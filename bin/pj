#!/usr/bin/env ruby

require 'pj'

options = PJ::parse

av = ARGV[0]
stdin = STDIN.read unless STDIN.closed? || STDIN.tty?
input = av || stdin

raise "No Input!" unless input

puts PJ::prettify(input, options) unless options[:a]
puts PJ::analyse(input) if options[:a]

